<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Departamento de Historia y Geografía - Liceo Bicentenario San Nicolás</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #fff;
            overflow-x: hidden;
        }

        /* Animated Background Particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 20s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) translateX(50px); opacity: 0; }
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }

        /* Neon Glow */
        .neon-text {
            text-shadow: 0 0 10px #00f3ff, 0 0 20px #00f3ff, 0 0 30px #00f3ff;
        }

        .neon-border {
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.5), 0 0 30px rgba(0, 243, 255, 0.3);
        }

        /* 3D Card Hover */
        .card-3d {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }

        .card-3d:hover {
            transform: translateY(-15px) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 25px 50px rgba(0, 243, 255, 0.3);
        }

        /* Animated Gradient */
        .gradient-animate {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #f7b731);
            background-size: 300% 300%;
            animation: gradientShift 8s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Floating Shapes */
        .floating-shape {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.3;
            animation: floatShape 15s infinite ease-in-out;
        }

        @keyframes floatShape {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(50px, -50px) scale(1.1); }
            66% { transform: translate(-30px, 30px) scale(0.9); }
        }

        /* Progress Bar Animation */
        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00f3ff, #ff00ff);
            border-radius: 10px;
            transition: width 1s ease;
        }

        /* Animated Timeline */
        .timeline-item {
            position: relative;
            padding-left: 40px;
            margin-bottom: 30px;
            opacity: 0;
            transform: translateX(-50px);
            animation: slideIn 0.6s forwards;
        }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #00f3ff, #ff00ff);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.8);
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            left: 9px;
            top: 20px;
            width: 2px;
            height: calc(100% + 10px);
            background: linear-gradient(180deg, rgba(0, 243, 255, 0.5), transparent);
        }

        /* Accordion */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }

        .accordion-content.active {
            max-height: 2000px;
        }

        /* Scroll Reveal */
        .reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Navigation Morphing */
        .nav-btn {
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .nav-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        /* Counter Animation */
        .counter {
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(45deg, #00f3ff, #ff00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Scroll to Top Button */
        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #00f3ff, #ff00ff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            z-index: 1000;
        }

        .scroll-top.visible {
            opacity: 1;
        }

        .scroll-top:hover {
            transform: translateY(-5px);
        }

        /* Media Placeholder Styles */
        .media-placeholder {
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(0, 243, 255, 0.3);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .media-placeholder:hover {
            border-color: rgba(0, 243, 255, 0.6);
            background: rgba(255, 255, 255, 0.08);
        }

        .media-placeholder i {
            font-size: 3rem;
            color: #00f3ff;
            margin-bottom: 15px;
        }

        /* Content Section Styles */
        .content-block {
            background: rgba(255, 255, 255, 0.03);
            border-left: 4px solid #00f3ff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .content-block h4 {
            color: #00f3ff;
            margin-bottom: 10px;
        }

        .content-list {
            list-style: none;
            padding-left: 0;
        }

        .content-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .content-list li::before {
            content: '▹';
            position: absolute;
            left: 0;
            color: #00f3ff;
            font-weight: bold;
        }

        /* Login Styles */
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .login-card {
            max-width: 450px;
            width: 100%;
        }

        .input-field {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            width: 100%;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #00f3ff;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }

        .btn-primary {
            background: linear-gradient(135deg, #00f3ff, #ff00ff);
            padding: 12px 30px;
            border-radius: 10px;
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 243, 255, 0.4);
        }

        .role-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .role-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .role-card:hover {
            border-color: #00f3ff;
            transform: translateY(-5px);
        }

        .role-card.selected {
            border-color: #00f3ff;
            background: rgba(0, 243, 255, 0.1);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
        }

        .role-card i {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        /* Dashboard Styles */
        .dashboard-sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: rgba(15, 12, 41, 0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            overflow-y: auto;
            z-index: 100;
            transition: transform 0.3s ease;
        }

        .dashboard-sidebar.mobile-hidden {
            transform: translateX(-100%);
        }

        .dashboard-content {
            margin-left: 280px;
            padding: 20px;
            min-height: 100vh;
        }

        .sidebar-menu-item {
            padding: 12px 20px;
            margin: 8px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sidebar-menu-item:hover {
            background: rgba(0, 243, 255, 0.1);
            transform: translateX(5px);
        }

        .sidebar-menu-item.active {
            background: linear-gradient(135deg, rgba(0, 243, 255, 0.2), rgba(255, 0, 255, 0.2));
            border-left: 3px solid #00f3ff;
        }

        .subject-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .subject-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 243, 255, 0.3);
            border-color: #00f3ff;
        }

        .subject-card.enrolled {
            border-color: #4ecdc4;
            background: rgba(78, 205, 196, 0.1);
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-success {
            background: rgba(78, 205, 196, 0.2);
            color: #4ecdc4;
        }

        .badge-warning {
            background: rgba(247, 183, 49, 0.2);
            color: #f7b731;
        }

        .badge-info {
            background: rgba(0, 243, 255, 0.2);
            color: #00f3ff;
        }

        @media (max-width: 768px) {
            .dashboard-sidebar {
                transform: translateX(-100%);
            }

            .dashboard-sidebar.mobile-visible {
                transform: translateX(0);
            }

            .dashboard-content {
                margin-left: 0;
            }
        }

        .stats-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stats-number {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #00f3ff, #ff00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body>
    <!-- Animated Background Particles -->
    <div class="particles" id="particles"></div>

    <!-- Floating Organic Shapes -->
    <div class="floating-shape" style="width: 300px; height: 300px; background: #ff6b6b; top: 10%; left: 5%;"></div>
    <div class="floating-shape" style="width: 400px; height: 400px; background: #4ecdc4; top: 50%; right: 10%; animation-delay: 3s;"></div>
    <div class="floating-shape" style="width: 250px; height: 250px; background: #45b7d1; bottom: 10%; left: 50%; animation-delay: 6s;"></div>

    <!-- Login Screen -->
    <div id="loginScreen" class="login-container relative z-10">
        <div class="login-card glass rounded-3xl p-8 neon-border">
            <div class="text-center mb-8">
                <div class="w-20 h-20 gradient-animate rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-graduation-cap text-4xl"></i>
                </div>
                <h1 class="text-3xl font-bold neon-text mb-2">Bienvenido</h1>
                <p class="text-gray-300">Liceo Bicentenario San Nicolás</p>
            </div>

            <div class="role-selector">
                <div class="role-card" id="studentRole" onclick="selectRole('student')">
                    <i class="fas fa-user-graduate"></i>
                    <p class="font-semibold">Alumno</p>
                </div>
                <div class="role-card" id="teacherRole" onclick="selectRole('teacher')">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <p class="font-semibold">Profesor</p>
                </div>
            </div>

            <form onsubmit="login(event)" class="space-y-4">
                <div>
                    <label class="block text-sm mb-2 text-gray-300">Usuario</label>
                    <input type="text" id="username" class="input-field" placeholder="Ingresa tu usuario" required>
                </div>
                <div>
                    <label class="block text-sm mb-2 text-gray-300">Contraseña</label>
                    <input type="password" id="password" class="input-field" placeholder="Ingresa tu contraseña" required>
                </div>
                <button type="submit" class="btn-primary mt-6">
                    <i class="fas fa-sign-in-alt mr-2"></i>Iniciar Sesión
                </button>
            </form>

            <p class="text-center text-sm text-gray-400 mt-6">
                Demo: usa cualquier usuario/contraseña
            </p>
        </div>
    </div>

    <!-- Dashboard (Hidden by default) -->
    <div id="dashboardScreen" class="hidden">
        <!-- Sidebar -->
        <div class="dashboard-sidebar" id="sidebar">
            <div class="mb-8">
                <div class="flex items-center gap-3 mb-6">
                    <div class="w-12 h-12 gradient-animate rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-xl"></i>
                    </div>
                    <div>
                        <p class="font-bold" id="userNameDisplay">Usuario</p>
                        <p class="text-xs text-gray-400" id="userRoleDisplay">Rol</p>
                    </div>
                </div>
            </div>

            <nav>
                <div class="sidebar-menu-item active" onclick="showDashboardSection('overview')">
                    <i class="fas fa-home"></i>
                    <span>Inicio</span>
                </div>
                <div class="sidebar-menu-item" onclick="showDashboardSection('subjects')">
                    <i class="fas fa-book"></i>
                    <span>Materias</span>
                </div>
                <div class="sidebar-menu-item" onclick="showDashboardSection('enrolled')">
                    <i class="fas fa-check-circle"></i>
                    <span>Mis Inscripciones</span>
                </div>
                <div class="sidebar-menu-item" onclick="showDashboardSection('content')">
                    <i class="fas fa-folder-open"></i>
                    <span>Contenido</span>
                </div>
                <div class="sidebar-menu-item" id="teacherOnlyMenu" style="display: none;" onclick="showDashboardSection('students')">
                    <i class="fas fa-users"></i>
                    <span>Estudiantes</span>
                </div>
                <div class="sidebar-menu-item" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Cerrar Sesión</span>
                </div>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="dashboard-content relative z-10">
            <!-- Mobile Menu Toggle -->
            <button class="md:hidden fixed top-4 left-4 z-50 glass p-3 rounded-lg" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Overview Section -->
            <div id="overviewSection" class="dashboard-section">
                <h2 class="text-4xl font-bold mb-8 neon-text">
                    <i class="fas fa-home mr-3"></i>Panel de Control
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="stats-card card-3d">
                        <i class="fas fa-book text-3xl text-blue-400 mb-3"></i>
                        <div class="stats-number" id="totalSubjects">0</div>
                        <p class="text-gray-300">Materias Disponibles</p>
                    </div>
                    <div class="stats-card card-3d">
                        <i class="fas fa-check-circle text-3xl text-green-400 mb-3"></i>
                        <div class="stats-number" id="enrolledCount">0</div>
                        <p class="text-gray-300">Inscripciones</p>
                    </div>
                    <div class="stats-card card-3d">
                        <i class="fas fa-trophy text-3xl text-yellow-400 mb-3"></i>
                        <div class="stats-number">100</div>
                        <p class="text-gray-300">% Progreso</p>
                    </div>
                </div>

                <div class="glass rounded-3xl p-8">
                    <h3 class="text-2xl font-bold mb-6">
                        <i class="fas fa-star mr-2"></i>Acceso Rápido
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="subject-card" onclick="showDashboardSection('subjects')">
                            <i class="fas fa-globe text-3xl text-blue-400 mb-3"></i>
                            <h4 class="font-bold text-lg mb-2">Explorar Materias</h4>
                            <p class="text-sm text-gray-400">Descubre todas las materias disponibles</p>
                        </div>
                        <div class="subject-card" onclick="showDashboardSection('enrolled')">
                            <i class="fas fa-bookmark text-3xl text-green-400 mb-3"></i>
                            <h4 class="font-bold text-lg mb-2">Mis Inscripciones</h4>
                            <p class="text-sm text-gray-400">Ver materias en las que estás inscrito</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Subjects Section -->
            <div id="subjectsSection" class="dashboard-section hidden">
                <h2 class="text-4xl font-bold mb-8 neon-text">
                    <i class="fas fa-book mr-3"></i>Materias Disponibles
                </h2>

                <!-- Geogo -->
                <div class="glass rounded-3xl p-8 mb-8">
                    <h3 class="text-3xl font-bold mb-6">
                        <i class="fas fa-globe mr-3"></i>Geogo
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="subject-card" data-subject="geogo-1">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="text-xl font-bold mb-2">Geogo 1° Año</h4>
                                    <span class="badge badge-info">1° Año</span>
                                </div>
                                <button class="enroll-btn btn-primary px-4 py-2 text-sm" onclick="toggleEnrollment('geogo-1')">
                                    <i class="fas fa-plus mr-2"></i>Inscribirse
                                </button>
                            </div>
                            <p class="text-sm text-gray-400 mb-3">Física, Programación, Diseño 3D, Electrónica</p>
                            <div class="flex gap-2 flex-wrap">
                                <span class="badge badge-warning"><i class="fas fa-atom mr-1"></i>Física</span>
                                <span class="badge badge-warning"><i class="fas fa-code mr-1"></i>Programación</span>
                                <span class="badge badge-warning"><i class="fas fa-cube mr-1"></i>Diseño 3D</span>
                            </div>
                        </div>

                        <div class="subject-card" data-subject="geogo-2">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="text-xl font-bold mb-2">Geogo 2° Año</h4>
                                    <span class="badge badge-info">2° Año</span>
                                </div>
                                <button class="enroll-btn btn-primary px-4 py-2 text-sm" onclick="toggleEnrollment('geogo-2')">
                                    <i class="fas fa-plus mr-2"></i>Inscribirse
                                </button>
                            </div>
                            <p class="text-sm text-gray-400 mb-3">IoT, Drones, Programación Avanzada</p>
                            <div class="flex gap-2 flex-wrap">
                                <span class="badge badge-warning"><i class="fas fa-network-wired mr-1"></i>IoT</span>
                                <span class="badge badge-warning"><i class="fas fa-drone mr-1"></i>Drones</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Geomática -->
                <div class="glass rounded-3xl p-8 mb-8">
                    <h3 class="text-3xl font-bold mb-6">
                        <i class="fas fa-drone mr-3"></i>Geomática
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="subject-card" data-subject="geomatica-3">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="text-xl font-bold mb-2">Geomática 3° Año</h4>
                                    <span class="badge badge-info">3° Año</span>
                                </div>
                                <button class="enroll-btn btn-primary px-4 py-2 text-sm" onclick="toggleEnrollment('geomatica-3')">
                                    <i class="fas fa-plus mr-2"></i>Inscribirse
                                </button>
                            </div>
                            <p class="text-sm text-gray-400 mb-3">Certificaciones DGAC/SAG, Operación de Drones</p>
                            <div class="flex gap-2 flex-wrap">
                                <span class="badge badge-warning"><i class="fas fa-certificate mr-1"></i>DGAC</span>
                                <span class="badge badge-warning"><i class="fas fa-leaf mr-1"></i>SAG</span>
                            </div>
                        </div>

                        <div class="subject-card" data-subject="geomatica-4">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="text-xl font-bold mb-2">Geomática 4° Año</h4>
                                    <span class="badge badge-info">4° Año</span>
                                </div>
                                <button class="enroll-btn btn-primary px-4 py-2 text-sm" onclick="toggleEnrollment('geomatica-4')">
                                    <i class="fas fa-plus mr-2"></i>Inscribirse
                                </button>
                            </div>
                            <p class="text-sm text-gray-400 mb-3">Full Stack Drone Operator Avanzado</p>
                            <div class="flex gap-2 flex-wrap">
                                <span class="badge badge-warning"><i class="fas fa-rocket mr-1"></i>Avanzado</span>
                                <span class="badge badge-warning"><i class="fas fa-brain mr-1"></i>Procesamiento</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Historia -->
                <div class="glass rounded-3xl p-8">
                    <h3 class="text-3xl font-bold mb-6">
                        <i class="fas fa-landmark mr-3"></i>Historia
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="subject-card" data-subject="historia-general">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="text-xl font-bold mb-2">Historia General</h4>
                                    <span class="badge badge-info">Todos los años</span>
                                </div>
                                <button class="enroll-btn btn-primary px-4 py-2 text-sm" onclick="toggleEnrollment('historia-general')">
                                    <i class="fas fa-plus mr-2"></i>Inscribirse
                                </button>
                            </div>
                            <p class="text-sm text-gray-400 mb-3">Historia Universal y de Chile</p>
                            <div class="flex gap-2 flex-wrap">
                                <span class="badge badge-warning"><i class="fas fa-globe-americas mr-1"></i>Universal</span>
                                <span class="badge badge-warning"><i class="fas fa-flag mr-1"></i>Chile</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Enrolled Section -->
            <div id="enrolledSection" class="dashboard-section hidden">
                <h2 class="text-4xl font-bold mb-8 neon-text">
                    <i class="fas fa-check-circle mr-3"></i>Mis Inscripciones
                </h2>
                <div id="enrolledList" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="glass rounded-3xl p-8 text-center">
                        <i class="fas fa-inbox text-6xl text-gray-600 mb-4"></i>
                        <p class="text-gray-400">No tienes inscripciones aún</p>
                        <button class="btn-primary mt-4 inline-block" onclick="showDashboardSection('subjects')">
                            Explorar Materias
                        </button>
                    </div>
                </div>
            </div>

            <!-- Content Section -->
            <div id="contentSection" class="dashboard-section hidden">
                <h2 class="text-4xl font-bold mb-8 neon-text">
                    <i class="fas fa-folder-open mr-3"></i>Contenido de Materias
                </h2>

                <div id="contentDisplay">
                    <!-- Content will be loaded here dynamically -->
                </div>
            </div>

            <!-- Students Section (Teacher Only) -->
            <div id="studentsSection" class="dashboard-section hidden">
                <h2 class="text-4xl font-bold mb-8 neon-text">
                    <i class="fas fa-users mr-3"></i>Gestión de Estudiantes
                </h2>

                <div class="glass rounded-3xl p-8">
                    <h3 class="text-2xl font-bold mb-6">Lista de Estudiantes</h3>
                    <div class="space-y-4">
                        <div class="subject-card flex justify-between items-center">
                            <div class="flex items-center gap-4">
                                <div class="w-12 h-12 gradient-animate rounded-full flex items-center justify-center">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div>
                                    <p class="font-bold">Juan Pérez</p>
                                    <p class="text-sm text-gray-400">Geogo 1° Año, Geomática 3° Año</p>
                                </div>
                            </div>
                            <span class="badge badge-success">Activo</span>
                        </div>
                        <div class="subject-card flex justify-between items-center">
                            <div class="flex items-center gap-4">
                                <div class="w-12 h-12 gradient-animate rounded-full flex items-center justify-center">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div>
                                    <p class="font-bold">María González</p>
                                    <p class="text-sm text-gray-400">Geogo 2° Año, Historia General</p>
                                </div>
                            </div>
                            <span class="badge badge-success">Activo</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scroll to Top Button -->
    <div class="scroll-top" id="scrollTop" onclick="scrollToTop()">
        <i class="fas fa-arrow-up text-xl"></i>
    </div>

    <script>
        // Global State
        let currentUser = null;
        let enrolledSubjects = [];

        // Subject Content Data
        const subjectContent = {
            'geogo-1': {
                title: 'Geogo 1° Año',
                icon: 'fa-globe',
                modules: [
                    {
                        name: 'Física',
                        icon: 'fa-atom',
                        topics: ['Introducción a la física', 'Cinemática y movimiento', 'Fuerzas y leyes de Newton', 'Energía y trabajo', 'Ondas y sonido', 'Óptica básica']
                    },
                    {
                        name: 'Programación',
                        icon: 'fa-code',
                        topics: ['Introducción a la programación', 'Algoritmos y lógica', 'Variables y tipos de datos', 'Estructuras de control', 'Funciones básicas', 'Proyectos simples en Python/Scratch']
                    },
                    {
                        name: 'Diseño 3D',
                        icon: 'fa-cube',
                        topics: ['Introducción al modelado 3D', 'Software de diseño (Tinkercad, Blender básico)', 'Formas geométricas básicas', 'Modificadores y transformaciones', 'Texturizado básico', 'Exportación para impresión 3D']
                    },
                    {
                        name: 'Electrónica',
                        icon: 'fa-microchip',
                        topics: ['Conceptos básicos de electricidad', 'Componentes electrónicos', 'Circuitos simples', 'Ley de Ohm', 'Protoboard y conexiones', 'Proyectos con LEDs y resistencias']
                    }
                ]
            },
            'geogo-2': {
                title: 'Geogo 2° Año',
                icon: 'fa-globe',
                modules: [
                    {
                        name: 'Internet de las Cosas (IoT)',
                        icon: 'fa-network-wired',
                        topics: ['Introducción al IoT', 'Sensores y actuadores', 'Arduino y microcontroladores', 'Conectividad (WiFi, Bluetooth)', 'Plataformas IoT (ThingSpeak, Blynk)', 'Proyectos de automatización']
                    },
                    {
                        name: 'Introducción a Drones',
                        icon: 'fa-drone',
                        topics: ['Historia y evolución de los drones', 'Tipos de drones y aplicaciones', 'Componentes de un drone', 'Principios de vuelo', 'Seguridad y normativa básica', 'Simuladores de vuelo']
                    },
                    {
                        name: 'Programación Avanzada',
                        icon: 'fa-laptop-code',
                        topics: ['Programación orientada a objetos', 'Estructuras de datos', 'Algoritmos de búsqueda y ordenamiento', 'Desarrollo web básico (HTML, CSS)', 'Bases de datos simples', 'Proyectos integradores']
                    },
                    {
                        name: 'Diseño 3D Avanzado',
                        icon: 'fa-cubes',
                        topics: ['Modelado orgánico', 'Animación 3D básica', 'Renderizado y materiales', 'Diseño paramétrico', 'Impresión 3D avanzada', 'Proyectos de diseño industrial']
                    }
                ]
            },
            'geomatica-3': {
                title: 'Geomática 3° Año',
                icon: 'fa-drone',
                modules: [
                    {
                        name: 'Certificaciones DGAC',
                        icon: 'fa-id-card',
                        topics: ['Preparación examen teórico DGAC', 'Normativa aeronáutica chilena', 'Espacios aéreos y restricciones', 'Meteorología aplicada', 'Procedimientos de emergencia', 'Documentación y permisos']
                    },
                    {
                        name: 'Certificación SAG',
                        icon: 'fa-leaf',
                        topics: ['Aplicación de agroquímicos con drones', 'Normativa SAG para fumigación aérea', 'Seguridad en aplicaciones agrícolas', 'Calibración de equipos', 'Registro y trazabilidad', 'Buenas prácticas agrícolas']
                    },
                    {
                        name: 'Operación de Drones',
                        icon: 'fa-helicopter',
                        topics: ['Vuelo manual avanzado', 'Planificación de misiones', 'Software de control (DJI, Pix4D)', 'Vuelo autónomo y waypoints', 'Captura de imágenes aéreas', 'Mantenimiento preventivo']
                    },
                    {
                        name: 'Procesamiento de Datos Inicial',
                        icon: 'fa-database',
                        topics: ['Introducción a fotogrametría', 'Software de procesamiento (Pix4D, Agisoft)', 'Generación de ortomosaicos', 'Modelos digitales de elevación (DEM)', 'Nube de puntos básica', 'Control de calidad de datos']
                    }
                ]
            },
            'geomatica-4': {
                title: 'Geomática 4° Año',
                icon: 'fa-drone',
                modules: [
                    {
                        name: 'Operaciones Avanzadas',
                        icon: 'fa-rocket',
                        topics: ['Vuelos en condiciones adversas', 'Operaciones nocturnas', 'Vuelos BVLOS (Beyond Visual Line of Sight)', 'Drones de ala fija', 'Sistemas multi-drone', 'Inspecciones técnicas especializadas']
                    },
                    {
                        name: 'Procesamiento Avanzado',
                        icon: 'fa-brain',
                        topics: ['Fotogrametría avanzada', 'LiDAR y procesamiento de nubes de puntos', 'Análisis multispectral e hiperespectral', 'Termografía y análisis térmico', 'Machine Learning para clasificación', 'Integración con GIS profesional']
                    },
                    {
                        name: 'Aplicaciones Profesionales',
                        icon: 'fa-industry',
                        topics: ['Agricultura de precisión', 'Topografía y catastro', 'Inspección de infraestructura', 'Minería y canteras', 'Medio ambiente y conservación', 'Emergencias y rescate']
                    },
                    {
                        name: 'Gestión y Finanzas',
                        icon: 'fa-chart-line',
                        topics: ['Gestión de proyectos geoespaciales', 'Cotización y presupuestos', 'Costos operacionales', 'Marketing de servicios', 'Aspectos legales y seguros', 'Emprendimiento en geomática']
                    }
                ]
            },
            'historia-general': {
                title: 'Historia General',
                icon: 'fa-landmark',
                modules: [
                    {
                        name: 'Historia Universal',
                        icon: 'fa-globe-americas',
                        topics: ['Civilizaciones antiguas', 'Edad Media', 'Renacimiento', 'Revoluciones modernas', 'Guerras mundiales', 'Historia contemporánea']
                    },
                    {
                        name: 'Historia de Chile',
                        icon: 'fa-flag',
                        topics: ['Pueblos originarios', 'Conquista y colonia', 'Independencia', 'República', 'Siglo XX', 'Chile contemporáneo']
                    }
                ]
            }
        };

        // Create Particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.width = Math.random() * 5 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Role Selection
        let selectedRole = null;
        function selectRole(role) {
            selectedRole = role;
            document.getElementById('studentRole').classList.remove('selected');
            document.getElementById('teacherRole').classList.remove('selected');

            if (role === 'student') {
                document.getElementById('studentRole').classList.add('selected');
            } else {
                document.getElementById('teacherRole').classList.add('selected');
            }
        }

        // Login
        function login(event) {
            event.preventDefault();

            if (!selectedRole) {
                alert('Por favor selecciona un rol (Alumno o Profesor)');
                return;
            }

            const username = document.getElementById('username').value;

            currentUser = {
                name: username,
                role: selectedRole
            };

            // Save to localStorage
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            localStorage.setItem('enrolledSubjects', JSON.stringify(enrolledSubjects));

            // Show dashboard
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('dashboardScreen').classList.remove('hidden');

            // Update user info
            document.getElementById('userNameDisplay').textContent = currentUser.name;
            document.getElementById('userRoleDisplay').textContent = currentUser.role === 'student' ? 'Alumno' : 'Profesor';

            // Show teacher menu if teacher
            if (currentUser.role === 'teacher') {
                document.getElementById('teacherOnlyMenu').style.display = 'flex';
            }

            updateStats();
        }

        // Logout
        function logout() {
            currentUser = null;
            enrolledSubjects = [];
            localStorage.removeItem('currentUser');
            localStorage.removeItem('enrolledSubjects');

            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('dashboardScreen').classList.add('hidden');

            // Reset form
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            selectedRole = null;
            document.getElementById('studentRole').classList.remove('selected');
            document.getElementById('teacherRole').classList.remove('selected');
        }

        // Toggle Enrollment
        function toggleEnrollment(subjectId) {
            const index = enrolledSubjects.indexOf(subjectId);
            const card = document.querySelector(`[data-subject="${subjectId}"]`);
            const btn = card.querySelector('.enroll-btn');

            if (index === -1) {
                enrolledSubjects.push(subjectId);
                card.classList.add('enrolled');
                btn.innerHTML = '<i class="fas fa-check mr-2"></i>Inscrito';
                btn.style.background = 'linear-gradient(135deg, #4ecdc4, #45b7d1)';
            } else {
                enrolledSubjects.splice(index, 1);
                card.classList.remove('enrolled');
                btn.innerHTML = '<i class="fas fa-plus mr-2"></i>Inscribirse';
                btn.style.background = 'linear-gradient(135deg, #00f3ff, #ff00ff)';
            }

            localStorage.setItem('enrolledSubjects', JSON.stringify(enrolledSubjects));
            updateStats();
            updateEnrolledList();
        }

        // Update Stats
        function updateStats() {
            document.getElementById('totalSubjects').textContent = Object.keys(subjectContent).length;
            document.getElementById('enrolledCount').textContent = enrolledSubjects.length;
        }

        // Update Enrolled List
        function updateEnrolledList() {
            const container = document.getElementById('enrolledList');

            if (enrolledSubjects.length === 0) {
                container.innerHTML = `
                    <div class="glass rounded-3xl p-8 text-center">
                        <i class="fas fa-inbox text-6xl text-gray-600 mb-4"></i>
                        <p class="text-gray-400">No tienes inscripciones aún</p>
                        <button class="btn-primary mt-4 inline-block" onclick="showDashboardSection('subjects')">
                            Explorar Materias
                        </button>
                    </div>
                `;
                return;
            }

            container.innerHTML = enrolledSubjects.map(subjectId => {
                const subject = subjectContent[subjectId];
                return `
                    <div class="subject-card enrolled">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h4 class="text-xl font-bold mb-2">
                                    <i class="fas ${subject.icon} mr-2"></i>${subject.title}
                                </h4>
                                <span class="badge badge-success">
                                    <i class="fas fa-check mr-1"></i>Inscrito
                                </span>
                            </div>
                            <button class="btn-primary px-4 py-2 text-sm" onclick="viewSubjectContent('${subjectId}')">
                                <i class="fas fa-eye mr-2"></i>Ver Contenido
                            </button>
                        </div>
                        <p class="text-sm text-gray-400">${subject.modules.length} módulos disponibles</p>
                    </div>
                `;
            }).join('');
        }

        // View Subject Content
        function viewSubjectContent(subjectId) {
            showDashboardSection('content');
            const subject = subjectContent[subjectId];
            const container = document.getElementById('contentDisplay');

            container.innerHTML = `
                <div class="glass rounded-3xl p-8 mb-8">
                    <h3 class="text-3xl font-bold mb-6">
                        <i class="fas ${subject.icon} mr-3"></i>${subject.title}
                    </h3>

                    ${subject.modules.map((module, idx) => `
                        <div class="content-block mb-6">
                            <h4 class="text-2xl font-bold mb-4">
                                <i class="fas ${module.icon} mr-2"></i>${module.name}
                            </h4>
                            <ul class="content-list">
                                ${module.topics.map(topic => `<li>${topic}</li>`).join('')}
                            </ul>
                        </div>
                    `).join('')}

                    <div class="grid md:grid-cols-2 gap-6 mt-8">
                        <div class="media-placeholder">
                            <i class="fas fa-video"></i>
                            <h4 class="text-xl font-bold mt-3 mb-2">Video Explicativo</h4>
                            <p class="text-gray-400">Espacio para video de ${subject.title}</p>
                            <p class="text-sm text-gray-500 mt-2">Formato: YouTube embed o video local</p>
                        </div>
                        <div class="media-placeholder">
                            <i class="fas fa-cube"></i>
                            <h4 class="text-xl font-bold mt-3 mb-2">Modelo 3D Interactivo</h4>
                            <p class="text-gray-400">Espacio para modelo 3D de ejemplo</p>
                            <p class="text-sm text-gray-500 mt-2">Formato: Sketchfab embed o visor 3D</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Show Dashboard Section
        function showDashboardSection(section) {
            const sections = ['overview', 'subjects', 'enrolled', 'content', 'students'];
            sections.forEach(s => {
                const el = document.getElementById(s + 'Section');
                if (el) {
                    el.classList.add('hidden');
                }
            });

            document.getElementById(section + 'Section').classList.remove('hidden');

            // Update active menu item
            document.querySelectorAll('.sidebar-menu-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.sidebar-menu-item').classList.add('active');

            // Update enrolled list if viewing enrolled section
            if (section === 'enrolled') {
                updateEnrolledList();
            }
        }

        // Toggle Sidebar (Mobile)
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-visible');
        }

        // Scroll to Top
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Scroll Events
        window.addEventListener('scroll', () => {
            const scrollTop = document.getElementById('scrollTop');
            if (window.pageYOffset > 300) {
                scrollTop.classList.add('visible');
            } else {
                scrollTop.classList.remove('visible');
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();

            // Check if user is already logged in
            const savedUser = localStorage.getItem('currentUser');
            const savedEnrollments = localStorage.getItem('enrolledSubjects');

            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                enrolledSubjects = savedEnrollments ? JSON.parse(savedEnrollments) : [];

                // Auto login
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('dashboardScreen').classList.remove('hidden');
                document.getElementById('userNameDisplay').textContent = currentUser.name;
                document.getElementById('userRoleDisplay').textContent = currentUser.role === 'student' ? 'Alumno' : 'Profesor';

                if (currentUser.role === 'teacher') {
                    document.getElementById('teacherOnlyMenu').style.display = 'flex';
                }

                updateStats();

                // Update enrollment buttons
                enrolledSubjects.forEach(subjectId => {
                    const card = document.querySelector(`[data-subject="${subjectId}"]`);
                    if (card) {
                        const btn = card.querySelector('.enroll-btn');
                        card.classList.add('enrolled');
                        btn.innerHTML = '<i class="fas fa-check mr-2"></i>Inscrito';
                        btn.style.background = 'linear-gradient(135deg, #4ecdc4, #45b7d1)';
                    }
                });
            }
        });
    </script>
</body>
</html>
